{
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "schemes": [
    "http",
    "https"
  ],
  "swagger": "2.0",
  "info": {
    "description": "The purpose of this application is to charge of clocking employees' time,\nallowing it to be updated by people with appropriated rights and creating rich time reports.\n\nSwagger json genereated using https://goswagger.io/generate/spec.html\nswagger -q generate spec -m -o swagger.json",
    "title": "Rockspoon HR Time Clock Microservice",
    "version": "0.0.1"
  },
  "host": "localhost:6002",
  "basePath": "/",
  "paths": {
    "/time-clock/diff": {
      "get": {
        "produces": [
          "application/json"
        ],
        "tags": [
          "time-clock-management"
        ],
        "summary": "Returns all changes made for the time clock of every employee.",
        "operationId": "getTCChanges",
        "parameters": [
          {
            "type": "string",
            "description": "key",
            "name": "key",
            "in": "header",
            "required": true
          },
          {
            "type": "string",
            "description": "User's email",
            "name": "email",
            "in": "query",
            "required": true
          },
          {
            "type": "string",
            "description": "date in format \"YYYY-MM-DD\"",
            "name": "date",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "getUserInfo response",
            "schema": {
              "$ref": "#/definitions/ChangedEventResponse"
            }
          }
        }
      }
    },
    "/time-clock/diff/me": {
      "get": {
        "produces": [
          "application/json"
        ],
        "tags": [
          "time-clock"
        ],
        "summary": "Returns all changes that were made for the logged employee's time clock events.",
        "operationId": "getEmployeeTCChanges",
        "parameters": [
          {
            "type": "string",
            "description": "venue key",
            "name": "key",
            "in": "header",
            "required": true
          },
          {
            "type": "string",
            "description": "access token",
            "name": "access_token",
            "in": "header",
            "required": true
          },
          {
            "type": "string",
            "description": "date in format \"YYYY-MM-DD\" (current date by default)",
            "name": "date",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "events response",
            "schema": {
              "$ref": "#/definitions/ChangedEventResponse"
            }
          }
        }
      }
    },
    "/time-clock/event": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "time-clock"
        ],
        "summary": "Adds a clock event of a specific type for the employee.",
        "operationId": "singleUpdate",
        "parameters": [
          {
            "name": "SingleUpdateRequest",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/SingleUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "singleUpdate response",
            "schema": {
              "$ref": "#/definitions/TCResponse"
            }
          }
        }
      }
    },
    "/time-clock/event/last": {
      "get": {
        "produces": [
          "application/json"
        ],
        "tags": [
          "time-clock"
        ],
        "summary": "Returns employees' last clock event.",
        "operationId": "allUsers",
        "parameters": [
          {
            "type": "string",
            "description": "key",
            "name": "key",
            "in": "header",
            "required": true
          },
          {
            "type": "string",
            "description": "access token",
            "name": "access_token",
            "in": "header",
            "required": true
          },
          {
            "type": "string",
            "description": "profileIds of employees",
            "name": "profileId",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "allUsers response",
            "schema": {
              "$ref": "#/definitions/UserLastClockStatus"
            }
          }
        }
      }
    },
    "/time-clock/event/management": {
      "post": {
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "tags": [
          "time-clock-management"
        ],
        "summary": "Allows managers to edit time clock events for other employees.",
        "operationId": "updateBulkTC",
        "parameters": [
          {
            "type": "string",
            "description": "access token",
            "name": "access_token",
            "in": "header",
            "required": true
          },
          {
            "type": "string",
            "description": "key",
            "name": "key",
            "in": "header",
            "required": true
          },
          {
            "name": "TimeClockBulkRequest",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/TimeClockBulkRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "updateBulkTC response",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/TCResponse"
              }
            }
          }
        }
      }
    },
    "/time-clock/summary": {
      "get": {
        "produces": [
          "application/json"
        ],
        "tags": [
          "time-clock-management"
        ],
        "summary": "Returns the time clock summary for all employees.",
        "operationId": "getSummaryFromDateRange",
        "parameters": [
          {
            "type": "string",
            "description": "user's ProfileId",
            "name": "profileId",
            "in": "query"
          },
          {
            "type": "string",
            "description": "start date of range for calculating summary",
            "name": "startDate",
            "in": "query",
            "required": true
          },
          {
            "type": "string",
            "description": "end date of range for calculating summary",
            "name": "endDate",
            "in": "query",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "getSummaryFromDateRange response",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/SummaryResponse"
              }
            }
          }
        }
      }
    },
    "/time-clock/summary/me": {
      "get": {
        "produces": [
          "application/json"
        ],
        "tags": [
          "time-clock"
        ],
        "summary": "Returns the time clock summary for the logged employee.",
        "operationId": "getEmployeeSummary",
        "parameters": [
          {
            "type": "string",
            "description": "key",
            "name": "key",
            "in": "header",
            "required": true
          },
          {
            "type": "string",
            "description": "access token",
            "name": "access_token",
            "in": "header",
            "required": true
          },
          {
            "type": "string",
            "description": "start date of range for calculating summary",
            "name": "startDate",
            "in": "query",
            "required": true
          },
          {
            "type": "string",
            "description": "end date of range for calculating summary",
            "name": "endDate",
            "in": "query",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "summary response",
            "schema": {
              "$ref": "#/definitions/SummaryResponse"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "Break": {
      "type": "object",
      "title": "Break represents the generic structure for a break event.",
      "properties": {
        "endTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "EndTimestamp"
        },
        "id": {
          "$ref": "#/definitions/ObjectID"
        },
        "startTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "StartTimestamp"
        },
        "status": {
          "$ref": "#/definitions/ClockStatus"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "BreakDTO": {
      "type": "object",
      "title": "BreakDTO represents DTO of the generic structure for a break event.",
      "properties": {
        "endTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "EndTimestamp"
        },
        "id": {
          "type": "string",
          "x-go-name": "ID"
        },
        "startTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "StartTimestamp"
        },
        "status": {
          "$ref": "#/definitions/ClockStatus"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "BreakRequest": {
      "type": "object",
      "title": "BreakRequest represents the payload for break event.",
      "properties": {
        "endTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "EndTimestamp"
        },
        "id": {
          "type": "string",
          "x-go-name": "ID"
        },
        "startTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "StartTimestamp"
        },
        "type": {
          "$ref": "#/definitions/BreakType"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "BreakResponse": {
      "type": "object",
      "title": "BreakResponse represents break response struct.",
      "properties": {
        "endTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "EndTimestamp"
        },
        "id": {
          "type": "string",
          "x-go-name": "ID"
        },
        "startTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "StartTimestamp"
        },
        "status": {
          "$ref": "#/definitions/ClockStatus"
        },
        "type": {
          "$ref": "#/definitions/BreakType"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "BreakType": {
      "type": "string",
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "ChangedEvent": {
      "description": "ChangedEvent represents changed clockins, clockouts and breaks",
      "type": "object",
      "properties": {
        "newTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "NewTimestamp"
        },
        "oldTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "OldTimestamp"
        },
        "operation": {
          "type": "string",
          "x-go-name": "Operation"
        },
        "type": {
          "type": "string",
          "x-go-name": "Type"
        },
        "userAgentName": {
          "type": "string",
          "x-go-name": "UserAgentName"
        },
        "when": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "ChangeTimestamp"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "ChangedEventInfo": {
      "description": "ChangedEventInfo represents a changelist",
      "type": "object",
      "properties": {
        "date": {
          "type": "string",
          "x-go-name": "Date"
        },
        "events": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ChangedEvent"
          },
          "x-go-name": "Events"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "ChangedEventResponse": {
      "description": "ChangedEventResponse represents a response for changed events endpoint",
      "type": "object",
      "properties": {
        "changeList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ChangedEventInfo"
          },
          "x-go-name": "ChangeList"
        },
        "userInfo": {
          "$ref": "#/definitions/UserLastClockStatus"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "ClockInOut": {
      "type": "object",
      "title": "ClockInOut represents the basic information for clock-in and clock-out.",
      "properties": {
        "status": {
          "$ref": "#/definitions/ClockStatus"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "Timestamp"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "ClockInOutDTO": {
      "type": "object",
      "title": "ClockInOutDTO represents DTO of the basic information for clock-in and clock-out.",
      "properties": {
        "status": {
          "$ref": "#/definitions/ClockStatus"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "Timestamp"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "ClockInOutRequest": {
      "type": "object",
      "title": "ClockInOutRequest represents the payload for clock-in and clock-out events.",
      "properties": {
        "timestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "Timestamp"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "ClockStatus": {
      "type": "string",
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "EventType": {
      "description": "possible values are \"clockIn\", \"clockOut\", \"startMealBreak\", \"finishMealBreak\", \"startRestBreak\" and \"finishRestBreak\"",
      "type": "string",
      "title": "EventType represents the type of the time event",
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "GenericTimeClockRequest": {
      "type": "object",
      "title": "GenericTimeClockRequest represents generic time clock requests struct.",
      "properties": {
        "breaks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BreakRequest"
          },
          "x-go-name": "Breaks"
        },
        "clockin": {
          "$ref": "#/definitions/ClockInOutRequest"
        },
        "clockout": {
          "$ref": "#/definitions/ClockInOutRequest"
        },
        "id": {
          "type": "string",
          "x-go-name": "ID"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "ObjectID": {
      "type": "array",
      "title": "ObjectID is the BSON ObjectID type.",
      "items": {
        "type": "integer",
        "format": "uint8"
      },
      "x-go-package": "go.mongodb.org/mongo-driver/bson/primitive"
    },
    "ProfileEventData": {
      "type": "object",
      "title": "ProfileEventData represents time response per profileID.",
      "properties": {
        "eventList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TimeClockDTO"
          },
          "x-go-name": "EventList"
        },
        "profileId": {
          "type": "string",
          "x-go-name": "ProfileID"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "SingleUpdate": {
      "type": "object",
      "title": "SingleUpdate is used to create single update.",
      "properties": {
        "type": {
          "$ref": "#/definitions/EventType"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "SingleUpdateDTO": {
      "type": "object",
      "title": "SingleUpdateDTO is DTO is used to create single update.",
      "properties": {
        "type": {
          "$ref": "#/definitions/EventType"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "SummaryPerUserResponse": {
      "type": "object",
      "title": "SummaryPerUserResponse represents summary per user.",
      "properties": {
        "eventList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TimeClockDTO"
          },
          "x-go-name": "EventList"
        },
        "hoursSummary": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TimeSheet"
          },
          "x-go-name": "HoursSummary"
        },
        "profileId": {
          "type": "string",
          "x-go-name": "ProfileID"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "SummaryResponse": {
      "type": "object",
      "title": "SummaryResponse represents summary response.",
      "properties": {
        "eventList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TCResponse"
          },
          "x-go-name": "EventList"
        },
        "hoursSummary": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TimeSheet"
          },
          "x-go-name": "HoursSummary"
        },
        "profileId": {
          "type": "string",
          "x-go-name": "ProfileID"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "TCResponse": {
      "type": "object",
      "title": "TCResponse represents TimeClock response struct.",
      "properties": {
        "breaks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BreakResponse"
          },
          "x-go-name": "Breaks"
        },
        "clockin": {
          "$ref": "#/definitions/ClockInOutDTO"
        },
        "clockout": {
          "$ref": "#/definitions/ClockInOutDTO"
        },
        "id": {
          "type": "string",
          "x-go-name": "ID"
        },
        "profileId": {
          "type": "string",
          "x-go-name": "ProfileID"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "TimeClock": {
      "type": "object",
      "title": "TimeClock represents the struct for a shift: clock-in, clock-out and optional breaks.",
      "properties": {
        "clockin": {
          "$ref": "#/definitions/ClockInOut"
        },
        "clockout": {
          "$ref": "#/definitions/ClockInOut"
        },
        "id": {
          "$ref": "#/definitions/ObjectID"
        },
        "mealBreaks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Break"
          },
          "x-go-name": "MealBreaks"
        },
        "profileId": {
          "$ref": "#/definitions/ObjectID"
        },
        "restBreaks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Break"
          },
          "x-go-name": "RestBreaks"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "TimeClockBulkRequest": {
      "type": "object",
      "title": "TimeClockBulkRequest represents time clock bulk request struct.",
      "properties": {
        "Events": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/GenericTimeClockRequest"
          }
        },
        "profileId": {
          "type": "string",
          "x-go-name": "ProfileID"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "TimeClockDTO": {
      "type": "object",
      "title": "TimeClockDTO represents DTO of the struct for a shift: clock-in, clock-out and optional breaks.",
      "properties": {
        "clockin": {
          "$ref": "#/definitions/ClockInOutDTO"
        },
        "clockout": {
          "$ref": "#/definitions/ClockInOutDTO"
        },
        "id": {
          "type": "string",
          "x-go-name": "ID"
        },
        "mealBreaks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BreakDTO"
          },
          "x-go-name": "MealBreaks"
        },
        "restBreaks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BreakDTO"
          },
          "x-go-name": "RestBreaks"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "TimeClockRequest": {
      "type": "object",
      "title": "TimeClockRequest represents the payload for time clock request.",
      "properties": {
        "UserAgentID": {
          "type": "string"
        },
        "VenueID": {
          "type": "string"
        },
        "breaks": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BreakRequest"
          },
          "x-go-name": "Breaks"
        },
        "clockin": {
          "$ref": "#/definitions/ClockInOutRequest"
        },
        "clockout": {
          "$ref": "#/definitions/ClockInOutRequest"
        },
        "id": {
          "type": "string",
          "x-go-name": "ID"
        },
        "profileId": {
          "type": "string",
          "x-go-name": "ProfileID"
        },
        "type": {
          "$ref": "#/definitions/TimeClockType"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "TimeClockType": {
      "type": "string",
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "TimeDuration": {
      "type": "integer",
      "format": "int64",
      "title": "TimeDuration represents time interval.",
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "TimeSheet": {
      "type": "object",
      "title": "TimeSheet represents user activity in the timeline.",
      "properties": {
        "breakHours": {
          "$ref": "#/definitions/TimeDuration"
        },
        "date": {
          "type": "string",
          "x-go-name": "Date"
        },
        "mealBreakHours": {
          "$ref": "#/definitions/TimeDuration"
        },
        "overtimeHours": {
          "$ref": "#/definitions/TimeDuration"
        },
        "regularHours": {
          "$ref": "#/definitions/TimeDuration"
        },
        "restBreakHours": {
          "$ref": "#/definitions/TimeDuration"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "UserInfoResponse": {
      "type": "object",
      "title": "UserInfoResponse represents user time-clock info response.",
      "properties": {
        "userLastClockStatus": {
          "$ref": "#/definitions/UserLastClockStatus"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "UserLastClockStatus": {
      "type": "object",
      "title": "UserLastClockStatus represents user profile id and event data.",
      "properties": {
        "clockEventTimestamp": {
          "type": "string",
          "format": "date-time",
          "x-go-name": "Timestamp"
        },
        "clockEventType": {
          "$ref": "#/definitions/EventType"
        },
        "profileId": {
          "type": "string",
          "x-go-name": "ProfileID"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    },
    "UserTimesheetResponse": {
      "type": "object",
      "title": "UserTimesheetResponse represents user timesheet response.",
      "properties": {
        "eventList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/TimeClockDTO"
          },
          "x-go-name": "EventList"
        }
      },
      "x-go-package": "github.com/rockspoon/rs.hr.time-clock-ms/model"
    }
  }
}